# Домашнее задание к лекции 2.3 «ООП в JS (ES6)» 

## Задача №1. Оружие

Известный нам по прошлым задачам Вася решил создать школьную RPG игру и решил начать с разработки оружия. Он также продумал способ получения денег - за счёт продажи персонажей с улучшенными характеристиками.

Чтобы помочь Васе, вам необходимо реализовать класс Weapon со следующими характеристиками:

- название
- уровень аттаки
- прочность
- дальность

### Процесс реализации

В игре присутствует оружие, которое может наносить урон.

1. Реализуйте класс `Weapon` со следующими свойствами:
    + `name`
    + `attack`
    + `durability`
    + `range`
    
2. Создайте метод `takeDamage(damage)`, добавляющий повреждение от соперника. 
Всё повреждение уменьшает значение прочности оружия (свойство `durability`).
Значение `durability` не должно падать ниже 0.

*Пример 1*
```js
const sword = new Weapon({
  name: 'Старый меч',
  attack: 20,
  durability: 10,
  range: 1,
});

sword.takeDamage(5);
console.log(sword.durability); // 5

sword.takeDamage(50);
console.log(sword.durability); // 0
```

*Пример 2*
```js
const arm = new Weapon({
  name: 'Рука',
  attack: 1,
  durability: Infinity,
  range: 1,
});

arm.takeDamage(20);
console.log(arm.durability); // Infinity

const bow = new Weapon({
  name: 'Лук',
  attack: 10,
  durability: 200,
  range: 3,
});

bow.takeDamage(20);
console.log(bow.durability); // 180

bow.takeDamage(200);
console.log(bow.durability); // 0
```

3. Создайте метод *getDamage()*, рассчитывающий урон от удара данным оружием.
Если прочность оружия (*durability*) больше или равна 30% от изначального, необходимо выдать значение свойства attack, иначе ```attack / 2```. При прочности 0, метод возвращает 0.

```js
console.log(bow.durability); // 0
console.log(bow.getDamage()); // 0

console.log(arm.durability); // Infinity
console.log(bow.getDamage()); // 1
```

4. Создайте метод `isBroken()`, показывающий, сломано ли оружие. Возвращает `false` при durability более 0.

```js
console.log(bow.durability); // 0
console.log(bow.isBroken()); // true

console.log(arm.durability); // Infinity
console.log(bow.isBroken()); // false
```

6. Создайте экземпляры оружия из **таблицы 1** и экземпляры улучшенного из **таблицы 2**.

Таблица 1. Варианты оружия.

| name       | attack | durability | range |
|------------|--------|------------|-------|
| Рука       | 1      | Infinity   | 1     |
| Лук        | 10     | 200        | 3     |
| Меч        | 25     | 500        | 1     |
| Нож        | 5      | 300        | 1     |
| Посох      | 8      | 300        | 2     |

Таблица 2. Варианты усиленного оружия. Прочерк («-») — свойство берётся из обычного аналога.

| name           | версия чего    | attack | range | durability |
|----------------|----------------|--------|-------|------------|
| Длинный лук    | Лук            | 15     | 4     | -          |
| Секира         | Меч            | 27     | -     | 800        |
| Посох Бури     | Посох          | 10     | 3     | -          |


### Критерии выполнения

Реализован класс и все его методы. Приведены примеры использования методов и проверна их корректность. Вы проверили пограничные случаи (прочность оружия 0, попытка уменьшить прочность ниже 0, прочность оружия — бесконечность). 

## Задача №2. Переработка оружия

После некоторых размышлений, Вася понял, что очень часто создает оружие из **таблицы 1** и **таблицы 2**. Он решил сделать для каждого из них свой класс.

> Обратите внимание, что классы обычного оружия должны наследоваться от основного вида оружия, а класс усиленного оружия — от классов обычного оружия.

### Процесс реализации

Потребуется создать подклассы для каждого оружия, которые будут вызывать конструктор родителя с определенными в таблицах параметрами.

```js
const bow = new Bow();

console.log(bow.name); // Лук
console.log(bow.attack); // 10
console.log(bow.durability); // 200
console.log(bow.range); // 3
```

### Критерии выполнения

Для каждого типа оружия создан класс, проверена корректность работы методов.

## Задача №3. Школьный журнал

> Задача со "звездочкой", ее выполнение не влияет на получение допуска до дипломной работы, но принесет много полезного опыта.

Мария Степановна продолжает совершенствовать журнал. Теперь для его ведения она 
решила создать специальный класс *StudentLog*, который бы помог ей удобно вносить 
новые оценки и автоматически пересчитывать средние показатели.
Реализуйте в классе StudentLog следующие функции:
- внесение оценки по названию предмета;
- получение средней оценки по предмету;
- получение средней оценки по всем предметам.

![задача 1](img/StudentLog.jpg)

### Процесс реализации

Реализуйте класс «StudentLog»:

1. Передавайте в *конструктор экземпляра* имя ученика:

```js
const log = new StudentLog('Олег Никифоров');
```

2. Создайте метод *getName*, возвращающее имя ученика: 

```js
const log = new StudentLog('Олег Никифоров');
console.log(log.getName()) // Олег Никифоров
```

3. Создайте метод `addGrade(grade, subject)`, который будет вносить оценку 
по соответствующему предмету. При этом `grade` — оценка, `subject` — предмет.
Условия работы метода:
+ Метод возвращает количество поставленных оценок по данному предмету. 
+ Оценка ставится числом в пределах от 1 до 5. 
+ **При неверной оценке дополнительно выдаётся сообщение с ошибкой, 
оценка в журнал не заносится**. Текущее количество оценок все равно требуется вернуть.

```js
const log = new StudentLog('Олег Никифоров');

console.log(log.addGrade(3, 'algebra'));
// 1

console.log(log.addGrade('отлично!', 'math'));
// Вы пытались поставить оценку "отлично!" по предмету "math". Допускаются только числа от 1 до 5.
// 0

console.log(log.addGrade(4, 'algebra'));
// 1

console.log(log.addGrade(5, 'geometry'));
// 1

console.log(log.addGrade(25, 'geometry'));
// Вы пытались поставить оценку "25" по предмету "geometry". Допускаются только числа от 1 до 5.
// 1
```


3. Создайте метод `getAverageBySubject(subject)`, получающий среднюю оценку по названию предмета. При отсутствии предмета нужно выдать 0.

```js
const log = new StudentLog('Олег Никифоров');

log.addGrade(2, 'algebra');
log.addGrade(4, 'algebra');
log.addGrade(5, 'geometry');
log.addGrade(4, 'geometry');

console.log(log.getAverageBySubject('geometry')); // 4.5
console.log(log.getAverageBySubject('algebra')); // 3
console.log(log.getAverageBySubject('math')); // 0
```

4. Создайте метод `getTotalAverage()`, получающий среднюю оценку по всем предметам. Средняя оценка рассчитывается как сумма **всех** оценок на их количество. При отсутствии оценок нужно выдать 0.

```js
const log = new StudentLog('Олег Никифоров');

log.addGrade(2, 'algebra');
log.addGrade(4, 'algebra');
log.addGrade(5, 'geometry');
log.addGrade(4, 'geometry');

console.log(log.getTotalAverage()); // 3,75
```

### Критерии выполнения

Реализованы все методы, в каждом из которых вы привели примеры работы
исключительных случаев (неверный формат оценки, несуществующий предмет и т.д).

## Требования для выполнения домашней работы

* браузер;
* редактор кода, например [Sublime][1] или [Visual Studio Code][2];
* аккаунт на [GitHub][0] ([инструкция по регистрации на GitHub][3]);
* система контроля версий [Git][4], установленная локально ([инструкция по установке Git][5]);
* запуск всех тестов должен успешно выполнять все тесты:
![графическое представление](../Jasmine/results/sucessed_tasks2_3.png)

## Решение задач
1. Перейти в папку задания, например, для первого задания `cd ./2.3-oop-es6`.
2. Открыть файл `task.js` в вашем редакторе кода и выполнить задание.
3. Открыть файл `index.html` в вашем браузере и с помощью консоли DevTools убедиться в правильности выводимых результатов.
4. Добавить файл `task.js` в индекс git с помощью команды `git add %file-path%`, где %file-path% - путь до целевого файла, например, для первого задания `git add oop-es6/main.js`.
5. Сделать коммит используя команду `git commit -m '%comment%'`, где %comment% - это произвольный комментарий к вашему коммиту, например, для первого задания 'first commit oop-es6'.
6. Опубликовать код в репозиторий homeworks с помощью команды `git push -u homeworks master`.
7. Прислать ссылку на репозиторий через личный кабинет на сайте [Нетологии][6].

[0]: https://github.com/
[1]: https://www.sublimetext.com/
[2]: https://code.visualstudio.com/
[3]: https://github.com/netology-code/guides/blob/master/git/github.md
[4]: https://git-scm.com/
[5]: https://github.com/netology-code/guides/blob/master/git/REAMDE.md
[6]: https://netology.ru/

*Никаких файлов прикреплять не нужно.*

Присылать на проверку можно каждую задачу по отдельности или все задачи вместе. Во время проверки по частям ваша домашняя работа будет со статусом "На доработке".

Любые вопросы по решению задач задавайте в Slack-канале.
